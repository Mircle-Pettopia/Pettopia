<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{admin/layout}"
>
  <head>
    <meta charset="UTF-8" />
    <title>Pettopia</title>
  </head>
  <body>
    <div layout:fragment="content">
      <section class="section">
        <div class="row">
          <div class="col-lg-12">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">주문 관리</h5>
                <div class="col-lg-12 p-4">
                  <table class="table table-bordered">
                    <tr class="table-primary">
                      <td colspan="3">주문 현황</td>
                    </tr>
                    <tr class="table-secondary text-center">
                      <td>결제대기</td>
                      <td>결제완료</td>
                      <td>결제취소</td>
                    </tr>
                    <tr class="text-center">
                      <td class="text-primary text-decoration-underline fs-3">
                        <span>0</span>건
                      </td>
                      <td class="text-success text-decoration-underline fs-3">
                        <span>0</span>건
                      </td>
                      <td class="text-danger text-decoration-underline fs-3">
                        <span>0</span>건
                      </td>
                    </tr>
                  </table>
                </div>
                <hr />
                <table class="table table-borderless mt-5">
                  <tbody>
                    <tr>
                      <th class="text-center" scope="row">상품명</th>
                      <td>
                        <input type="text" class="form-control" />
                      </td>

                      <th class="text-center" scope="row">상품분류</th>
                      <td>
                        <div class="d-flex">
                          <select class="form-select me-2">
                            <option>- 대분류 선택 -</option>
                            <option>의류</option>
                          </select>
                          <select class="form-select">
                            <option>- 소분류 선택 -</option>
                          </select>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th class="text-center" scope="row">상품등록일</th>
                      <td>
                        <div class="d-flex align-items-center">
                          <input type="date" class="form-control mr-2" />
                          <span class="mx-2">~</span>
                          <input type="date" class="form-control ml-2" />
                        </div>
                      </td>

                      <th class="text-center" scope="row">판매상태</th>
                      <td>
                        <div class="d-flex">
                          <div class="form-check me-3">
                            <input class="form-check-input" type="checkbox" />
                            <label class="form-check-label">전체</label>
                          </div>
                          <div class="form-check me-3">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              name="chk"
                            />
                            <label class="form-check-label">판매중</label>
                          </div>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>

                <div class="text-center pb-5">
                  <button type="button" class="btn btn-primary" id="searchBtn">
                    검색
                  </button>
                  <button type="button" class="btn btn-secondary" id="resetBtn">
                    초기화
                  </button>
                </div>

                <div id="orderList"></div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <script>
        const Grid = tui.Grid;

        // 상품 관리 리스트(그리드)
        const orderList = new Grid({
          el: document.getElementById("orderList"),
          rowHeaders: ["checkbox", "rowNum"],
          bodyHeight: 430,
          pageOptions: {
            useClient: true,
            perPage: 10,
          },
          columns: [
            {
              header: "주문ID",
              name: "prdtId",
              align: "center",
              sortingType: "asc",
              sortable: true,
            },
            {
              header: "주문자",
              name: "lcatId",
              align: "center",
              sortingType: "asc",
              sortable: true,
            },
            {
              header: "상품명",
              name: "scatId",
              align: "center",
              sortingType: "asc",
              sortable: true,
            },
            {
              header: "총 결제금액",
              name: "prdtNm",
              align: "center",
              sortingType: "asc",
              sortable: true,
            },
            {
              header: "결제상태",
              name: "prdtPrc",
              align: "center",
              sortingType: "asc",
              sortable: true,
            },
            {
              header: "배송상태",
              name: "saleSt",
              align: "center",
              sortingType: "asc",
              sortable: true,
            },
            {
              header: "주문일자",
              name: "regDt",
              align: "center",
              sortingType: "asc",
              sortable: true,
              formatter: function (e) {
                return formattedDate(e.value);
              },
            },
          ],
        });

        // 상품 리스트
        $.ajax({
          url: "",
          success: function (data) {
            orderList.resetData(data);
          },
          error: function (reject) {
            console.log(reject);
          },
        });
      </script>
    </div>
  </body>
</html>
